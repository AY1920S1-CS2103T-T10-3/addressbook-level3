<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><meta name="author" content="== PROJECT: ELISA"><title>Ng Siang Hwee - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-3</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level4">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">AddressBook-Level3</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/se-edu/addressbook-level3"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Ng Siang Hwee - Project Portfolio</h1><div class="details"><span class="author" id="author">== PROJECT: ELISA</span><br></div></div><div id="content"><div class="sect1">
<h2 id="overview"><a class="link" href="#overview">1. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>My team of 5 software engineering students were tasked with enhancing a basic command line interface (CLI) desktop address book application for our Software Engineering project.</p>
</div>
<div class="paragraph">
<p>As we are living in a fast-paced world where things are constantly changing, it can become stressful at times to keep track of the many tasks, events and reminders that we have. We thought that it would be helpful to have an application that is able to aid computer-savvy students in managing these tasks, events and reminders so we chose to morph the address book into a student assistant.</p>
</div>
<div class="paragraph">
<p>We decided to call her ELISA, an Exceptionally Loud and Intelligent Student Assistant. Our application enables users to add and track their tasks and events while receiving reminders for them. The assistant is in the form of a chat bot and she was given a sassy and humorous personality to enhance the user experience. There are also other features to aid the productivity of students and to spice up their life.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="application-introduction"><a class="link" href="#application-introduction">2. Application introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is how our application looks like:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/sianghwee/taskpanel-annotated.PNG" alt="taskpanel annotated">
</div>
<div class="title">Figure 1. User interface annotated</div>
</div>
<div class="paragraph">
<p>The rest of this report will refer to these components and so their function will be briefly explained.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ELISA icon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Icon of the application which changes with the different mode of ELISA.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result display</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The "chat box" with ELISA which contains all past user input and ELISA&#8217;s response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command box</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user can type their commands here to interact with ELISA.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">View panel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current view of the application. It can show the task, event, reminder or calendar panel.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">3. Summary of contributions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, I will be briefly going through my contributions to this team project. For the full extent of my contributions to the project, please visit <a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#=undefined&amp;search=sianghwee">here</a>.</p>
</div>
<div class="sect2">
<h3 id="functional-contributions"><a class="link" href="#functional-contributions">3.1. Functional contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Priority mode (Major Feature)</strong>:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>What does it do?</em></p>
</div>
<div class="paragraph">
<p>This feature allows the user to enter a priority mode where they are able to prioritize tasks with a higher priority first and focus on that task to complete it.</p>
</div>
<div class="paragraph">
<p><em>Why make it?</em></p>
</div>
<div class="paragraph">
<p>This features helps to solve the problem of students having too many tasks and being unsure of what task to complete first. It will help to alleviate the stress of the users.</p>
</div>
<div class="paragraph">
<p><em>Why is it special?</em></p>
</div>
<div class="paragraph">
<p>There are multiple modes for the user to choose from to suit their needs. Users can choose from a focus mode, a timed mode, a normal mode or a combination of multiple modes. The different modes will be explained in greater detail in the user guide.</p>
</div>
<div class="paragraph">
<p>At the same time, users are able to update their task list in realtime (add, delete, edit) so that they can always be sure that the task that they are currently doing is the most important one.</p>
</div>
<div class="paragraph">
<p><em>Difficulties?</em></p>
</div>
<div class="paragraph">
<p>The difficulty of this feature comes from the fact that it has to be integrated with all the other commands within the application. That means that the algorithm needs to be written in a way such that it is constantly updating itself to give the user the most important task despite the changes in the tasks.</p>
</div>
<div class="paragraph">
<p>For example, when a new task of a higher priority (than the current task) is added, the algorithm should be able to make that the task that is to be completed first. This requires a lot of integration with all the other code so that ELISA can behave differently depending on whether she is in priority mode.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Sorting (Minor Feature)</strong>:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The sorting feature allows users to sort their items so that they are able to better arrange their items in a way that is most useful to them. Each list has its own sorting algorithm while users can also choose to sort the items based on their priority or description. Refer to <a href="https://ay1920s1-cs2103t-t10-3.github.io/main/UserGuide.html#sorting-elisa-out-code-sort-code">here</a> for more information on this feature.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Find (Minor Feature)</strong>:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The find feature allows users to find an item based on the description of the item. This will aid users in getting the item that they need at the fastest possible time. Refer to <a href="https://ay1920s1-cs2103t-t10-3.github.io/main/UserGuide.html#finding-a-task-code-find-code">here</a> for more information on this feature.</p>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">3.2. Other contributions:</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Project management</strong>:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Review and made notable suggestions on the following PR:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/69#pullrequestreview-299143917">PR #69</a> - gave idea of storing the priority in the item class that was ultimately adopted</p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/130#pullrequestreview-304515805">PR #130</a> - gave idea of getting the command word to display to the user was ultimately adopted</p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/132">PR #132</a> - gave suggestion on how to improve the code for readability and to follow coding practice.</p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/134#pullrequestreview-304938689">PR #134</a> - gave idea of moving method to the <code>UndoableCommand</code> abstract class was ultimately adopted in <a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/137">PR #137</a></p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/141#pullrequestreview-306620283">PR #141</a> - gave suggestion of using <code>Long</code> instead of <code>BigInteger</code></p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/158#pullrequestreview-308251560">PR #158</a> - gave suggestion on how to improve the feed back message to the users for undo command, which was ultimately adopted</p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/252#pullrequestreview-312419235">PR #252</a> - gave suggestion on fixing some issue with the code and optimizing it</p>
</li>
</ol>
</div>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Other implementations</strong>:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Helped my teammates with the following features and implementation:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Implementation(<a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/138">PR #138</a>) and fixes on the calendar panel so that it is able to display the events and update the events when there are changes to the event(<a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/148">PR #148</a>, <a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/181">PR #181</a> and <a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/244">PR #244</a>).</p>
</li>
<li>
<p>Helped with the implementation of the undo for marking a task as completed (<a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/153">PR #153</a>).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Refactoring</strong>:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Refactored the model(<a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/68">PR #68</a>) and storage(<a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/79">PR #79</a>) class so that it will work with the project.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Documentation</strong>:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Updated the developer guide to include the use cases (<a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/44">PR #44</a>) and the user stories (<a href="https://github.com/AY1920S1-CS2103T-T10-3/main/pull/47">PR #47</a>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">4. Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide for my main feature. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="entering-priority-mode-code-priority-code"><a class="link" href="#entering-priority-mode-code-priority-code">4.1. Entering priority mode: <code>priority</code></a></h4>
<div class="paragraph">
<p>Feeling overwhelmed by the sheer amount of tasks to do? Enter priority mode, a mode which will help you narrow down the most pressing task to be done.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BeforePriority.PNG" alt="500" width="500">
</div>
<div class="title">Figure 2. ELISA before priority mode with a long list of tasks</div>
</div>
<div class="paragraph">
<p>By simply typing <code>priority</code> into the command box, you will be given one single task of the highest priority among your task list. This task is chosen by ELISA base on priority and the order in which the task was added to the list.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AfterPriority.PNG" alt="500" width="500">
</div>
<div class="title">Figure 3. ELISA in priority mode</div>
</div>
<div class="paragraph">
<p>Notice that the ELISA icon turns red to signify that you are in priority mode and your task list has shrunk from 5 tasks down to the 1 most important task.</p>
</div>
<div class="paragraph">
<p>When you are done with your current task, just tell ELISA you are done by simply typing <code>done 1</code> and ELISA will generate the next task for you.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AfterDone.PNG" alt="500" width="500">
</div>
<div class="title">Figure 4. ELISA after completing the first task</div>
</div>
<div class="paragraph">
<p>Feeling less stressed? You can type <code>priority</code> again to bring you out of the priority mode and back into the normal task view. Or even better, finish all your undone tasks and you will be automatically brought out of priority mode.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AllDone.PNG" alt="500" width="500">
</div>
<div class="title">Figure 5. ELISA after all tasks are completed</div>
</div>
<div class="paragraph">
<p>Feeling lazy? You can also opt to turn off priority mode at a specific time by typing <code>priority dd/mm/yyyy hhmm</code> and ELISA will turn it off at that specific time for you.</p>
</div>
<div class="paragraph">
<p>There is also an extreme focus mode for the easily distracted. Simply tell ELISA that you want to enter the extreme focus mode by attaching a <code>-f</code> flag to the back of the command. In the extreme focus mode, commands such as <code>show</code>, <code>sort</code>, <code>find</code>, <code>game</code>, <code>event</code> and <code>reminder</code> are banned.</p>
</div>
<div class="paragraph">
<p>Format: <code>priority [DATETIME] [-f]</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>priority</code> - activates or deactivates the priority mode</p>
</li>
<li>
<p><code>priority 30/10/2019 1200</code> - activates the priority mode and ask ELISA to turn it off on 30/10/2019 at noon</p>
</li>
<li>
<p><code>priority 2.hour.later -f</code> - activates the focus mode and ask ELISA to turn it off 2 hours later</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Note that this command can only be called in the task panel and when you have incomplete tasks to be completed.</p>
</li>
<li>
<p>Note that if priority mode is currently on, any variation of <code>priority</code> will turn it off.</p>
</li>
<li>
<p>Note that all command such as <code>edit</code>, <code>undo</code> and <code>redo</code> still works in priority mode. However, if a <code>done</code> or <code>delete</code> command takes you out of priority mode and then you <code>undo</code> it, it will only <code>undo</code> the command but will not take you back into priority mode.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">5. Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide for the model implementation and my main feature. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">5.1. Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="../images/ModelClassDiagram.png" alt="500" width="500">
</div>
<div class="title">Figure 6. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="{repoURL}/src/main/java/seedu/address/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores the Item Storage data</p>
</li>
<li>
<p>exposes four observable lists that can be viewed by the Ui and will cause an update in the Ui when it is updated</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="design-consideration"><a class="link" href="#design-consideration">5.1.1. Design Consideration</a></h4>
<div class="paragraph">
<p>The original implementation was to have one single observable list and modifying it whenever the view changes. We decided against it as we believe that this will result in O(n) time complexity for switching the different views as we need to iterate through all the items to find the relevant items.</p>
</div>
<div class="paragraph">
<p>Using the four visualization list, we only need to change the pointer when we want to change the view of the viewing panel making it an O(1) time complexity solution. However, this makes it more complicated to maintain the different lists.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="priority-mode"><a class="link" href="#priority-mode">5.2. Priority Mode</a></h3>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">5.2.1. Implementation</a></h4>
<div class="paragraph">
<p>The priority mode is used to aid the user in focusing on the most pressing task that they have especially when they have many tasks in their list. As priority mode is only for clearing of tasks, the priority mode can only be activated at the task pane of the application.</p>
</div>
<div class="paragraph">
<p>The priority mode is mainly controlled in the <code><code>ItemModelManager</code></code> and the following are the methods it uses within the <code><code>ItemModelManager</code></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><code>ItemModelManager#togglePriorityMode()</code></code> - Toggle the priority mode depending on whether it is on or off.</p>
</li>
<li>
<p><code><code>ItemModelManager#toggleOnPriorityMode()</code></code> - Helper function to toggle on the priority mode.</p>
</li>
<li>
<p><code><code>ItemModelManager#toggleOffPriorityMode()</code></code> - Helper function to toggle off the priority mode.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are two variants to the priority mode, a normal priority mode and a focus mode. The focus mode is more restrictive than the normal priority mode, preventing the user from doing any operations that are not relevant to the task list, such as adding a new event. This is currently implemented by having a separate <code>Parser</code> when ELISA is in focus mode. (Refer to <a href="#Priority-Design-Consideration">Design Consideration</a> for more details)</p>
</div>
<div class="paragraph">
<p>There are two ways to trigger priority mode, a normal priority mode that is controlled fully by the user and a scheduled priority mode that is triggered by the user but is scheduled to turn off after a specific amount of time. In addition to the above three methods, the scheduled priority mode also uses the following method:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><code>ItemModelManager#startTimer(LocalDateTime)</code></code> - Starts a timer to turn off the priority mode.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="example-run-of-priority-mode"><a class="link" href="#example-run-of-priority-mode">5.2.2. Example run of priority mode</a></h4>
<div class="paragraph">
<p>In this section, we will show a run of the priority mode and a overview of the mechanism at each step. In particular, we will be showing how the <code><code>ScheduledPriorityCommand</code></code> works as it has a more complicated implementation than the normal <code><code>PriorityCommand</code></code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The user opens his Task panel and types in <code>priority 30.min.later</code>.</p>
</li>
<li>
<p>The incomplete tasks are added to a <code><code>PriorityQueue</code></code> where they are ranked by their priority.</p>
</li>
<li>
<p>Once all the items are added into the <code><code>PriorityQueue</code></code>, ELISA will peek the first task from the queue and present it to the user.</p>
</li>
<li>
<p>The user can type <code><code>done 1</code></code> when he is done with the current task to retrieve the next task. This carries on until there is no more undone task left to do in the <code><code>PriorityQueue</code></code>. This is shown in the activity diagram below.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PriorityModeActivityDiagram.png" alt="300" width="300">
</div>
<div class="title">Figure 7. Activity diagram for priority mode</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>ELISA will automatically disable the priority mode after 30 minutes and show <strong>all</strong> the task that the user have in his task list currently.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="internal-working-of-the-command"><a class="link" href="#internal-working-of-the-command">5.2.3. Internal working of the command</a></h4>
<div class="paragraph">
<p>The figure below shows the sequence diagram on what happens from a simple execution of the <code><code>priority 30.min.later</code></code> command. We will go through the internal mechanism of the execution of the <code><code>ScheduledPriorityCommand</code></code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PriorityMode.png" alt="PriorityMode">
</div>
<div class="title">Figure 8. Sequence diagram for priority mode</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>When the user types in the command, the <code><code>LogicManager</code></code> takes in the command as a string and pass it to the <code><code>AddressBookParser</code></code></p>
</li>
<li>
<p>The <code><code>AddressBookParser</code></code> parses the string and determine whether the command is that of a normal <code><code>PriorityCommand</code></code> or a <code><code>ScheduledPriorityCommand</code></code>. In this case,  a new <code><code>ScheduledPriorityCommand</code></code> is created and is passed back to the <code><code>LogicManager</code></code>.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The following steps (except step 4) are also applicable to <code><code>PriorityCommand</code></code>.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Within the <code><code>LogicManager</code></code>, the <code><code>ScheduledPriorityCommand#execute()</code></code> method is called and the command is executed.</p>
</li>
<li>
<p>The <code><code>ScheduledPriorityCommand</code></code> calls the <code><code>ItemModel#scheduleOffPriorityMethod()</code></code> which creates a new <code><code>Timer</code></code> object and a new <code><code>TimerTask</code></code> object. The <code><code>TimerTask</code></code> object will be scheduled to fire off at a specific time, which in this case is 30 minutes later (as defined by the user).</p>
</li>
<li>
<p>The <code><code>SchedulePriorityCommand</code></code> then calls <code><code>ItemModel#togglePriorityMode()</code></code> which calls the private method <code><code>ItemModel#toggleOnPriorityMode()</code></code> (since the current state of the priority mode is false).</p>
</li>
<li>
<p>This creates a new <code><code>TaskList</code></code> which will have the task with the highest priority added to it. This <code><code>TaskList</code></code> will be displayed to the user.</p>
</li>
<li>
<p>A <code><code>CommandResult</code></code> is passed to the <code><code>ScheduledPriorityCommand</code></code> and then back to the <code><code>LogicManager</code></code> to be passed into the <code><code>Ui</code></code>, informing the user that the priority mode is activate.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A normal <code><code>PriorityCommand</code></code> will end at this point and will only be deactivated by the user&#8217;s input of <code>priority</code> again.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PriorityMode2.png" alt="300" width="300">
</div>
<div class="title">Figure 9. Sequence diagram for the scheduled turning off of priority mode</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>As the <code><code>Timer</code></code> within the <code><code>ItemModelManager</code></code> is still running on a separate thread, it will trigger the <code><code>TimerTask#run()</code></code> when the user defined time is reached.</p>
</li>
<li>
<p>The <code><code>TimerTask</code></code> will call <code><code>ItemModelManager#toggleOffPriorityMode()</code></code> which will cancel the <code><code>Timer</code></code> and destroy the <code><code>Timer</code></code>. This is to ensure proper cleanup of the thread.</p>
</li>
<li>
<p>All the items are added back into the <code><code>TaskList</code></code> and shown to the user. The priority mode is deactivated.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="Priority-Design-Consideration"><a class="link" href="#Priority-Design-Consideration">5.2.4. Design Consideration</a></h4>
<div class="paragraph">
<p><strong>Aspect: How to restrict commands for focus mode</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Alternative 1: Storing a boolean within the <code>ItemModelManager</code> to check if the application is in focus mode or normal mode. Commands that are not allowed to be called in focus mode will check against this boolean to determine if the command is allowed.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Pros</th>
<th class="tableblock halign-left valign-top">Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">This implementation will contain the changes within the class of the <code><code>Command</code></code> itself and will ensure that they do not interfere with each other. This will make it easier to maintain the code.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This implementation is not scalable as each new <code><code>Command</code></code> that is added will need to be checked to see if they are allowed in focus mode. There is also the additional overhead of checking the state of the <code><code>ItemModelManager</code></code> at every call of <code><code>Command#execute()</code></code>.</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>Alternative 2 (Current implementation): Create a new <code><code>FocusElisaParser</code></code> that extends from the current <code><code>ElisaParser</code></code> but prevent the parsing of commands that are not allowed in focus mode.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Pros</th>
<th class="tableblock halign-left valign-top">Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">This implementation stops the creation of the <code><code>Command</code></code> at the <code><code>Parser</code></code> level which will reduce the computational cost to the application.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">There might be difficulty in maintaining the <code><code>Parser#parse()</code></code> method of the two <code><code>Parser</code></code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Both methods are not scalable in the long run, but at this moment, alternative 2 is favoured as it prevents the command from even being parsed or created, which saves the computing time. At the same time, it is easier to maintain as one only needs to edit the <code><code>Parser#parse()</code></code> method instead of having an if-else loop in all the command that are banned.</p>
</div>
<div class="paragraph">
<p><strong>Aspect: How to turn off the priority mode after a fixed time</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Alternative 1: Storing the timer within the <code><code>ScheduledPriorityCommand</code></code>.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Pros</th>
<th class="tableblock halign-left valign-top">Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adheres to the SLAP principle with each class having it&#8217;s own implementation of the <code><code>Command#execute(ItemModel)</code></code>. It is easier to maintain the code and prevents overloading the <code><code>ItemModelManager</code></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">There is no way to end the schedule priority mode prematurely as the timer is kept within the command and so cannot be referenced after the execution of the command.</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>Alternative 2 (Current implementation): Storing the timer within the <code><code>ItemModelManager</code></code>.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Pros</th>
<th class="tableblock halign-left valign-top">Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The timer can be referenced from the <code><code>ItemModelManager</code></code> and so it can be cancelled prematurely if the user chooses to do so.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This implementation will clutter the <code><code>ItemModelManager</code></code> further and make it harder for maintaining the code.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Alternative 2 was chosen as we believe that the ability to cancel a scheduled priority mode prematurely is more important than the maintainability of the code at the moment.</p>
</div>
</div>
<div class="sect3">
<h4 id="possible-extension"><a class="link" href="#possible-extension">5.2.5. Possible extension</a></h4>
<div class="paragraph">
<p>At the moment, the user is not able to keep track of the amount of time that he has before the schedule priority mode is over. This can be improved by including a countdown timer in the Ui when the user toggles on the scheduled priority mode.</p>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 06:18:49 UTC</div></div></div></body></html>